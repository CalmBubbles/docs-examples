<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>

        <style>

html
{
    background: black;
    color: white;
    font-family: monospace;
    scrollbar-color: white black;
}

div
{
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    left: calc(50vw - 10px);
    background: white;
    color: black;
    font-weight: bold;
    padding: 20px;
    user-select: none;
    font-size: 1.4em;
    border-radius: 3px;
    cursor: pointer;
}

        </style>
    </head>
    
    <body>
        <div id="endButton">End Task</div>

        <script src="/js-plugins/DialogueSystem.js" type="text/javascript"></script>
        <script src="/js/AutoScroll.js" type="text/javascript"></script>
        <script type="text/javascript">

let endTask = false;

DialogueLoop.Append(
    // spam every frame
    () => document.body.append(Math.random().toString(36).substring(2), document.createElement("br")),

    null, // You can still use the 2nd parameter,
          // use `null` if you're not going using it
    
    () => endTask // end task once the endTask variable is `true`
                  // by default this is `() => false`
);


// sets the endTask variable to true once clicked
endButton.onclick = () => endTask = true;

        </script>
        <script type="text/javascript">

let clicked = false;

endButton.addEventListener("click", () => {
    if (clicked) return;

    endButton.style.opacity = 0.5;
    endButton.style.cursor = "auto";

    clicked = true;
})

        </script>
    </body>
</html>