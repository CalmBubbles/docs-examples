<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>

        <style>

html
{
    background: black;
    color: white;
    font-family: monospace;
    scrollbar-color: white black;
}

img
{
    image-rendering: pixelated;
    pointer-events: none;
    user-select: none;
    margin: 10px 0;
    width: 400px;
    max-width: 75%;
}

div
{
    width: 79px;
    user-select: none;
    background: white;
    color: black;
    font-weight: bold;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
}

        </style>
    </head>
    
    <body>
        <script src="/js-plugins/DialogueSystem.js" type="text/javascript"></script>
        <script src="/js/AutoScroll.js" type="text/javascript"></script>
        <script type="text/javascript">

const sprite = new DialogueSprite(
    // Name for identification
    "Niko OneShot",
    
    // Source file
    "../../templates/oneshot/img/Faces/niko_speak.png"
);

const audio = new DialogueAudioClip("meow", "../../templates/omori/audio/SE_meow.ogg");


DialogueLoop.Append(() => {
    document.body.append(`loaded sprite: ${sprite.isLoaded}, audio: ${audio.isLoaded}`, document.createElement("br"))

    if (!sprite.isLoaded || !audio.isLoaded) return;

    const img = document.createElement("img");
    img.src = sprite.spriteURL;

    const button = document.createElement("div");
    button.onclick = () => {
        DialogueAudioSource.global.Play(audio);
    };
    button.append("Play Audio");

    document.body.append(img, button);
}, null, () => sprite.isLoaded && audio.isLoaded);

        </script>
    </body>
</html>