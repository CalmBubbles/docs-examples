<!DOCTYPE html>
<html>
    <head>
        <link rel="preload" href="/fonts/Comic Sans UT/font.ttf" as="font">
        
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
        
        <style>
            html, body
            {
                height : 100%;
            }
            
            body
            {
                margin : 0;
                background : black;
                color : white;
                display : flex;
            }
            
            #dialogue-box
            {
                background : black;
                width : 97.9vw;
                height : 24.3vw;
                border : 1.1vw solid white;
                margin : auto;
                font-family : "sand";
                font-size : 5.5vw;
                visibility : hidden;
            }
            
            #dialogue-box[data-enabled="true"]
            {
                visibility : visible;
            }
            
            #dialogue-box img
            {
                height : 100%;
                margin-right : 0.6vw;
                image-rendering : pixelated;
            }
            
            #dialogue-box div
            {
                display : inline-block;
                height : 78%;
                overflow : clip;
                margin : 3.06vw 0;
                letter-spacing : 0.02vw;
                word-spacing : -0.35vw;
                line-height : 6.23vw;
            }
            
            #dialogue-box #asterisk
            {
                margin-right : 2.05vw;
                vertical-align : top;
                display : none;
            }
            
            #dialogue-box div:not(#asterisk)
            {
                width : 67vw;
            }
            
            @font-face
            {
                font-family : "sand";
                src : url("/fonts/Comic Sans UT/font.ttf");
            }
        </style>
    </head>
    
    <body>
        <div id="dialogue-box"></div>
        
        <script src="/js-plugins/min/dialogueSys.js" type="text/javascript"></script>
        <script type="text/javascript">
            const dialogueBox = document.querySelector("#dialogue-box");
            let asterisk = null;
            
            const diaSys = new dialogueSys(dialogueBox,
                [
                    {
                        name : dialogueSys.PROFILE_DEFAULT,
                        audios : [
                            {
                                name : "snas",
                                src : "snas.wav"
                            }
                        ],
                        portraits : [
                            {
                                name : "snas",
                                src : "snas.png"
                            }
                        ]
                    }
                ],
                null,
                {
                    audioDir : "/docs-examples/js-plugins/dialogueSys/res/audio",
                    imageDir : "/docs-examples/js-plugins/dialogueSys/res/img",
                }
            );
            
            diaSys.once("OnLoad", async () => {
                asterisk = document.createElement("div");
                
                asterisk.id = "asterisk";
                
                asterisk.append("*");
                
                diaSys.dialogueBox.insertBefore(asterisk, diaSys.dialogueLine);
                
                diaSys.once("OnPortraitEnable", () => {
                    asterisk.style.display = "inline-block";
                });
                
                await diaSys.SetActive(true);
                
                diaSys.type("never gonna give you up.", 1, {
                    audio : "snas",
                    portrait : "snas",
                    charData : [
                        {
                            params : {
                                char : [" "]
                            },
                            audio : null
                        }
                    ]
                });
            });
        </script>
    </body>
</html>
