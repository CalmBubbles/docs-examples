<!DOCTYPE html>
<html>
    <head>
        <link rel="preload" href="/fonts/lightweight.ttf" as="font">
        
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
        
        <style>
            html, body
            {
                height : 100%;
            }
            
            body
            {
                margin : 0;
                background : black;
                color : white;
                font-family : "lightweight";
                font-size : 4.44vw;
                line-height : 6.11vw;
                display : flex;
            }
            
            #dialogue-box
            {
                background : black;
                width : 91.67vw;
                height : 18.06vw;
                padding : 2.78vw;
                border : 0.83vw solid white;
                margin : auto;
                overflow-wrap : break-word;
                visibility : hidden;
            }
            
            #dialogue-box[data-enabled="true"]
            {
                visibility : visible;
            }
            
            @font-face
            {
                font-family : "lightweight";
                src : url("/fonts/lightweight.ttf");
            }
            
            @keyframes box
            {
                from { transform : scaleY(0); }
                to { transform : none; }
            }
        </style>
    </head>
    
    <body>
        <div id="dialogue-box"></div>
        
        <script src="/js-plugins/min/dialogueSys.js" type="text/javascript"></script>
        <script type="text/javascript">
            const dialogueBox = document.querySelector("#dialogue-box");
            
            const diaSys = new dialogueSys(dialogueBox, null, {
                Box : {
                    OnEnable : {
                        animation : "box",
                        time : 0.25
                    }
                }
            });
            
            diaSys.on("OnLoad", async () => {
                // Not all tasks will run
                await diaSys.type("I can't talk,", 0.25);
                await diaSys.delay(1);
                await diaSys.type(" h-help...", 0.125);
                await diaSys.delay(5);
                
                // Enable the system
                await diaSys.SetActive(true);
                
                // All tasks will run
                await diaSys.type("Oh hey,", 0.75);
                await diaSys.delay(0.5);
                await diaSys.type(" I can talk now.", 1);
                await diaSys.delay(1.5);
                await diaSys.clearText();
                await diaSys.type("Uhhhhhhhhh...", 0.25);
                await diaSys.delay(1.25);
                await diaSys.clearText();
                await diaSys.type("Anyway,", 1);
                await diaSys.delay(0.25);
                await diaSys.type(" I was going to tell you about-", 1.25);
                
                // Disable the system
                await diaSys.SetActive(false);
                
                // This task will not run
                diaSys.type("WHYYYYYYYYYYYY!??!", 0.125);
            });
        </script>
    </body>
</html>